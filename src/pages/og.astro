---
// src/pages/og-preview.astro
// Página dedicada para preview do componente Open Graph

import { SITE } from "@consts";
import OGImage from "../components/OpenGraph/OGImage.svelte";
import PageLayout from "../layouts/PageLayout.astro"; // Opcional: usar layout base se quiser header/footer

// Dados de exemplo para o preview
const sampleProps = {
  title: "Este é um Título de Exemplo Bem Longo para Testar Quebras de Linha",
  date: new Date(),
  lang: "pt", // Mude para 'en' para testar o outro idioma
  author: SITE.NAME, // Add author prop for preview
} as const;

// Define um título para a página de preview
const pageTitle = "Preview: Open Graph Image";
const pageDescription = "Preview OgImage.svelte";

// eslint-disable-next-line no-unused-labels
draft: true;
---

<PageLayout title={pageTitle} description={pageDescription}>
  <div class="container mx-auto p-8">
    <h1 class="mb-4 text-2xl font-bold">{pageTitle}</h1>
    <p class="mb-4">
      Ajuste o arquivo <code>src/components/OpenGraph/OgImage.svelte</code> e veja
      as mudanças aqui em tempo real.
    </p>
    <p class="mb-4">
      Idioma atual: <strong>{sampleProps.lang.toUpperCase()}</strong> (modifique
      a prop 'lang' nesta página para testar outros idiomas).
    </p>

    <h2 class="mb-2 mt-6 text-xl font-semibold">Preview (1200x630)</h2>
    <!-- Contêiner com dimensões fixas da imagem OG -->
    <div
      style="width: 1200px; height: 630px; border: 1px dashed gray; overflow: hidden; margin: 0 auto;"
    >
      <OGImage {...sampleProps} />
    </div>

    <h2 class="mb-2 mt-8 text-xl font-semibold">
      Preview Redimensionado (Ajustado à Tela)
    </h2>
    <p class="mb-4 text-sm text-gray-600">
      Apenas para facilitar a visualização em telas menores. O tamanho real é o
      de cima.
    </p>
    <!-- Contêiner responsivo para facilitar visualização -->
    <div
      style="width: 100%; max-width: 1200px; aspect-ratio: 1200 / 630; border: 1px dashed blue; overflow: hidden; margin: 0 auto;"
    >
      <!-- Usamos um wrapper para escalar o conteúdo interno via transform -->
      <div
        style="width: 1200px; height: 630px; transform-origin: top left; transform: scale(calc(100% / 1200px));"
      >
        <OGImage {...sampleProps} />
      </div>
    </div>
  </div>
</PageLayout>
